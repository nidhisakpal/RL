ğŸš€ Battery-Aware Network Optimization - Iterative Runner
==========================================================
Configuration:
  Terminals:    20
  Budget:       2.0
  Charge rate:  10.0%
  Demand rate:  5.0%
  Iterations:   5
  Output dir:   results_filtered
  Reuse terms:  no
==========================================================

ğŸ“ Created output directory: results_filtered
ğŸ² Generating 20 random terminals...
âœ… Generated new random terminals: results_filtered/terminals_iter1.txt

ğŸš€ ITERATION 1
===============
Step 2: Generating Full Steiner Trees...
âœ… Generated 361 FSTs
Step 2.5: Generating FST dump file...
âœ… Generated FST dump file
Step 3: Solving budget-constrained optimization...
âœ… Optimization completed
Step 4: Creating visualization...
âœ… Visualization created: results_filtered/visualization_iter1.html
Step 6: Creating detailed FST analysis...
âœ… FST analysis created: results_filtered/iter1_analysis.txt

ğŸš€ ITERATION 2
===============
Step 1: Updating battery levels based on previous solution...
âœ… Battery levels updated (connected +10.0% charge -5.0% demand, disconnected -5.0% drain)
Step 2: Generating Full Steiner Trees...
âœ… Generated 361 FSTs
Step 2.5: Generating FST dump file...
âœ… Generated FST dump file
Step 3: Solving budget-constrained optimization...
âœ… Optimization completed
Step 4: Creating visualization...
âœ… Visualization created: results_filtered/visualization_iter2.html
Step 5: Computing transition metrics from iteration 1...
  Network cost: 2.393721 â†’ 2.558236 (Î”=0.164515)
  Graph distance: 0.164515
Step 6: Creating detailed FST analysis...
âœ… FST analysis created: results_filtered/iter2_analysis.txt

ğŸš€ ITERATION 3
===============
Step 1: Updating battery levels based on previous solution...
âœ… Battery levels updated (connected +10.0% charge -5.0% demand, disconnected -5.0% drain)
Step 2: Generating Full Steiner Trees...
âœ… Generated 361 FSTs
Step 2.5: Generating FST dump file...
âœ… Generated FST dump file
Step 3: Solving budget-constrained optimization...
âœ… Optimization completed
Step 4: Creating visualization...
âœ… Visualization created: results_filtered/visualization_iter3.html
Step 5: Computing transition metrics from iteration 2...
  Network cost: 2.558236 â†’ 2.393721 (Î”=-0.164515)
  Graph distance: 2.013719
Step 6: Creating detailed FST analysis...
âœ… FST analysis created: results_filtered/iter3_analysis.txt

ğŸš€ ITERATION 4
===============
Step 1: Updating battery levels based on previous solution...
âœ… Battery levels updated (connected +10.0% charge -5.0% demand, disconnected -5.0% drain)
Step 2: Generating Full Steiner Trees...
âœ… Generated 361 FSTs
Step 2.5: Generating FST dump file...
âœ… Generated FST dump file
Step 3: Solving budget-constrained optimization...
âœ… Optimization completed
Step 4: Creating visualization...
âœ… Visualization created: results_filtered/visualization_iter4.html
Step 5: Computing transition metrics from iteration 3...
  Network cost: 2.393721 â†’ 2.558236 (Î”=0.164515)
  Graph distance: 0.164515
Step 6: Creating detailed FST analysis...
âœ… FST analysis created: results_filtered/iter4_analysis.txt

ğŸš€ ITERATION 5
===============
Step 1: Updating battery levels based on previous solution...
âœ… Battery levels updated (connected +10.0% charge -5.0% demand, disconnected -5.0% drain)
Step 2: Generating Full Steiner Trees...
âœ… Generated 361 FSTs
Step 2.5: Generating FST dump file...
âœ… Generated FST dump file
Step 3: Solving budget-constrained optimization...
âœ… Optimization completed
Step 4: Creating visualization...
âœ… Visualization created: results_filtered/visualization_iter5.html
Step 5: Computing transition metrics from iteration 4...
  Network cost: 2.558236 â†’ 2.602061 (Î”=0.043825)
  Graph distance: 2.760986
Step 6: Creating detailed FST analysis...
âœ… FST analysis created: results_filtered/iter5_analysis.txt

ğŸ“Š GENERATING COMPARISON REPORT
===============================
âœ… Comparison report generated: results_filtered/battery_evolution_report.txt

ğŸ‰ ALL 5 ITERATIONS COMPLETED SUCCESSFULLY!
=============================================

ğŸ“ Results saved in: results_filtered/
ğŸ“Š View report: cat results_filtered/battery_evolution_report.txt
ğŸŒ Open visualizations:
   Iteration 1: results_filtered/visualization_iter1.html
   Iteration 2: results_filtered/visualization_iter2.html
   Iteration 3: results_filtered/visualization_iter3.html
   Iteration 4: results_filtered/visualization_iter4.html
   Iteration 5: results_filtered/visualization_iter5.html

ğŸ”„ To run again:
   ./run_optimization.sh [terminals] [budget] [charge_rate] [demand_rate] [iterations] [output_dir] [reuse_terminals]

Examples:
   # Default (20 terminals, budget=1.5, new random terminals)
   ./run_optimization.sh

   # Tight budget
   ./run_optimization.sh 20 0.5 10.0 5.0 10 tight no

   # Moderate budget with NEW random terminals each run
   ./run_optimization.sh 20 1.5 10.0 5.0 10 moderate no

   # REUSE SAME terminals to compare algorithm improvements
   ./run_optimization.sh 20 1.5 10.0 5.0 10 moderate yes

   # Run again on existing directory (reuse terminals)
   ./run_optimization.sh 20 2.0 10.0 5.0 10 moderate yes

NOTE:
  - Budget is NORMALIZED (0-3 typical for 20 terminals)
  - Set reuse_terminals=yes to test on SAME terminal set
  - Battery objective now INVERTED: low battery = high priority
